<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Yak Application Keeper  | Documents</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.30-DEV" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    <link href='https://goyak.io/dist/main.css' rel='stylesheet' type="text/css" />
    
      
    

    
      <link href="https://goyak.io/docs/index.xml" rel="alternate" type="application/rss+xml" title="Yak Application Keeper" />
      <link href="https://goyak.io/docs/index.xml" rel="feed" type="application/rss+xml" title="Yak Application Keeper" />
    

    <meta property="og:title" content="Documents" />
<meta property="og:description" content="The last theme you&#39;ll ever need. Maybe." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://goyak.io/docs/" />














<meta itemprop="name" content="Documents">
<meta itemprop="description" content="The last theme you&#39;ll ever need. Maybe.">

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Documents"/>
<meta name="twitter:description" content="The last theme you&#39;ll ever need. Maybe."/>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  
  
  <header class="cover bg-top" style="background-image: url('https://goyak.io/images/pexels-photo-707667.jpg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://goyak.io/" class="f3 fw2 hover-white no-underline white-90 dib">
      Yak Application Keeper
    </a>
    <div class="flex-l items-center">
      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/contact/" title="Contact page">
              Contact
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/docs/" title="Documents page">
              Documents
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/news/" title="News page">
              News
            </a>
          </li>
          
        </ul>
      
      







  <a href="https://github.com/goyak/yak" class="link-transition github link dib z-999 pt3 pt0-l mr2" title="Github link">
    <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

  </a>


    </div>
  </div>
</nav>

      <div class="tc-l pv4 pv6-l ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
          Documents
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="cf pa3 pa4-m pa4-l">
    <div class="measure-wide-l center f4 lh-copy nested-copy-line-height nested-links nested-img mid-gray">                
      <p>I decided to start learning Golang in March 2017.</p>

<p>Follow my journey through this new blog.</p>

    </div>
  </article>
  <div class="mw8 center">
    
    <section class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/application/core/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       Application/Core - 主要作業系統本身 Container OS 目前與k8s有相當多的整合, 所以預設k8s包含在整個運作系統上
name: core summary: Easystack Container Linux version: '1.0' # ${url}:${branch}@${from} backend: ostree source: http://mirror.centos.org/centos/7/atomic/x86_64/repo branch: centos-atomic-host/7/x86_64/standard backend: ostree commit: 173278f2ccba80c5cdda4b9530e6f0388177fb6d27083dec9d61bbe40e22e064 description: | Easystack Container Linux  Backend: Ostree, Docker(LinuxKit) 第一階段僅支援Ostree, 未來可以整併 Docker 或者應該叫LinuxKit
Features  bcache(?) kernel busybox  Specific Hook or Plugin build_image k8s related config 
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/application/kernel/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       kernel 裁剪  remove initramfs for qemu guest   
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/application/yak/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      目標讓 yak 本身可以自我更新
 # yak install yak  example yak.yml
name: yak summary: Yak application kit version: 1.0 backend: plain source: http://mirror.easystack.io/yak/yak-1.0.gz sha256sum: 87428fc522803d31065e7bce3cf03fe475096631e5e07bbd7a0fde60c4cf25c7 description: | Yak application kit  Backend: Plain 放置位置可能為FTP或HTTP(S)提供直接下載,以checksum作為確認
Specific Hook or Plugin check_os 確認系統是否為 ostree or yak-core or classic
變數 PATH 加上 YAK_BIN_PATH, 可能不在yak本身設定需要加進相關shell設定檔案
YAK_BIN_PATH 執行檔放置位置 系統需要可讀寫
YAK_RECIPE_PATH yak recipe 系統需要可讀寫
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/host/aws/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      aa
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/host/baremetal/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      baremetal
 QEMU guest  
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/host/docker/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/host/openstack/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      s
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/host/ostree/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/implement/recipes/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Application recipes (or spec, playbook) ref: snapd/snap/info_snap_yaml.go gopkg.in/yaml.v2 https://github.com/go-yaml/yaml/tree/v2
Recipes 儲存方式以git, version 作為 git tag, commit log 作為 release note
file structure  ├─ yak.yml ├─ config.yml └─┬─ (d) hooks └─ (d) added-files  tag log  $ git log --no-walk --tags --pretty=&quot;%h %d %s&quot; --decorate=full 3713f3f (tag: refs/tags/1.0.0, tag: refs/tags/0.6.0, refs/remotes/origin/master, refs/heads/master) SP-144/ISP-177: Updating the package.json with 0.6.0 version and the README.md. 00a3762 (tag: refs/tags/0.5.0) ISP-144/ISP-205: Update logger to save files with optional port number if defined/passed: Version 0.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/implement/yakhost/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      yak host UPX – the Ultimate Packer for eXecutables &ndash;brute
client 部份用 cobra deamon 部份用 flag 原生
cmds:
cmd/snap/cmd_snap_op.go
 text template replace added-files
 system commands  alias  yak install core, command alias example command: core-info
 $ core-info Yak: 0.01  yakd or supervisord - process and status control  docker runwrapper local yak store  yak rest-api yak web ui yak cli yak Commands  yak fetch: 下载 recipes 至本机cache   # yak fetch # yak xxx   yak info core:   # yak info core Yak is not run on a ostree based host # yak info core name: core summary: &quot;snapd runtime environment&quot; publisher: canonical contact: snappy-canonical-storeaccount@canonical.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/implement/yakstore/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      yak store  输出静态: repo Developer 界面: meta data upload  Developer 积分制 判断 recipe 可靠度等 gpgkey  User/Group 界面: config Host/Env meta data  hook design: Install/Configure/Connect/Upgrade and update/Scale out and scale back/Perform health checks/Undertake operational actions/Benchmark wrapper command template service relation default env config  收费服务项目  部属服务次数或 安装主机数目   recipe verification gRPC
https://github.com/grpc-ecosystem/grpc-gateway https://developers.google.com/protocol-buffers
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/source/docker/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Docker hub tag docker inspect &ndash;format=&lsquo;{{.RepoDigests}}&rsquo; busybox:musl [busybox@sha256:03090180de84b192027dfc77517f32cdec2716d5c3ef4703b5cda09457e3cb7d]
Debug https://medium.com/@betz.mark/ten-tips-for-debugging-docker-containers-cde4da841a1d
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/source/ostree/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      $ yak install core
Ostree 特性  Transactional upgrades and rollback for the system Replicating content incrementally over HTTP via GPG signatures and &ldquo;pinned TLS&rdquo; support Support for parallel installing more than just 2 bootable roots Binary history on the server side (and client) Introspectable shared library API for build and deployment systems Flexible support for multiple branches and repositories, supporting projects like flatpak which use libostree for applications, rather than hosts.
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/source/plain/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      yak itself
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/sourcecode/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       cli  spf13/cobra urfave/cli jessevdk/go-flags   
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/talks/pitchme/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       Hello 
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/use-case/" class="link black dim">
        
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/home/" class="link black dim">
        README
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
       Yak/Yakety app kit for DevOps. (WIP) 目前我们透过container与ostree等技术,让布署方面可以达到便利且稳定. 然而升级或是服务级设定需求依然无法轻易的达成. 我们将参考现行的一些服务设计一套meta-data (recipe) based的 app kit. 以application的角度提供DevOps便捷性.
recipe = sources + hooks + config
问题 - 处理 版本异动 与 设定  版本异动 往往需要 相对应之环境配置  ostree (atomic) postcompose.sh docker run 必须带许多参数 bind network, storage and config  延伸 依据环境或设备 有不同配置条件  upgrade, rollback try 用假资料 或 dump 与 load进去新的版本 prod or staging  状态回报 health check image 讯息不易显出, 如果一个image 提供多个以上 commands (目前docker run 预设只有一个command), 我们不容易了解image内部配置 CI/CD recipe, testing  解决方案- meta data  atomic core 管理 &lt;规划系统可运作于所有可以执行docker或kubernetes环境, 但在atomic环境下可以管理机制&gt;  cloud-init: api-key, client-server key exchange  image 与版本关联性  PACKAGE or SERVICES PACK:USER or GROUP:DEVICE or ENV 版本 revision (hash) pull from ostree or docker update policies  基本配置 (developer 预先规划初始值)与设定(user 调整) 企业级使用 搭配 Kubernetes 需要service 与 service 的关联资料  自我測試 Roadmap recipe design recipe spec configs - auto load config from add-files - config in recipe (default value) &ndash; need to support = := git action - git commit as changelog - version as git tag add-files template  yak host status monitor host info  ostree backend recipes deploy image  ostree backend (10&frasl;15) first target - atomic host yakd - status control local  
    </div>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Docs</span>
    <h1 class="f3 near-black">
      <a href="/docs/others/" class="link black dim">
        Related solutions
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      相似solutions cloud-init
package based package manager - yum and apt spec
%description administrate and deploy your gandi resources %prep %setup -n gandi.cli-%{version} %build %{__python2} setup.py build %install %{__python2} setup.py install --skip-build --root $RPM_BUILD_ROOT rst2man --no-generator gandicli.man.rst | gzip -9 &gt; gandi.1.gz install -d -m 0755 %{buildroot}/usr/share/man/man1 install -m 0644 gandi.1.gz %{buildroot}/usr/share/man/man1 %clean rm -r %{buildroot}  snap channels: - latest: stable: 3.1.5 (46) 7MB - candidate: ^ beta: ^ edge: 3.
    </div>
  </div>
</div>

        </div>
      
    </section>
  

<ul class="pagination">
    
    <li>
        <a href="/docs/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    >
    <a href="/docs/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/docs/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    class="active"><a href="/docs/page/2/">2</a></li>
    
    
    <li
    class="disabled">
    <a href="" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="/docs/page/2/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

  </div>

    </main>
    <footer class="bg-near-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
    <div>
      <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://goyak.io/" >
        &copy; 2017 Yak Application Keeper
      </a>
      <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://easystack.cn">
        Project sponsored by EasyStack Inc.
      </a>
  </div>
  







  <a href="https://github.com/goyak/yak" class="link-transition github link dib z-999 pt3 pt0-l mr2" title="Github link">
    <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

  </a>


  </div>
</footer>

    <script src="https://goyak.io/dist/app.bundle.js" async></script>

  </body>
</html>
